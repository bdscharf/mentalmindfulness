<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <title>Reflect</title>
  <link rel="stylesheet" href="/stylesheets/base.css">
  <link rel="stylesheet" href="/stylesheets/signup.css">
</head>

<body>
  <nav class="navbar navbar-expand-sm bg-success navbar-dark fixed-top">
    <ul class="navbar-nav">
      <li class="navbar-brand">
        <a class="navbar-brand" href="/">reflect</a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <form class="form-inline" method="POST" action="/">
        <input class="form-control mr-sm-2" type="text" placeholder="username" name="username">
        <input class="form-control mr-sm-2" type="password" name="password" placeholder="password">
        <button type="submit" class="btn btn-outline-light">Log In</button>
      </form>
    </ul>
  </nav>
  <form class="signup-form" method="POST" action="/signup">
    Create your account <br>
    <input class="form-control" type="text" placeholder="full name" name="fullname" required>
    <input class="form-control" type="text" placeholder="username" name="username" required>
    <p id="uniqueNameErr" style="font-size: 14px;"></p>
    <input class="form-control" type="password" name="password" placeholder="password - minimum 6 characters" required>
    <p id="pLengthErr" style="font-size: 14px;"></p>
    <input class="form-control" type="password" placeholder="retype password" name="confirm" required>
    <p id="pMatchErr" style="font-size: 14px;"></p>
    <button type="submit" class="btn btn-success btn-lg">Create Account</button>
  </form>
  <script>
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    console.log(vars);
    var failed = false;
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split("=");
      if (pair[0] == 'pLengthErr') {
        document.getElementById('pLengthErr').innerHTML = "Password not long enough";
      } else if (pair[0] == 'pMatchErr') {
        document.getElementById('pMatchErr').innerHTML = "Passwords do not match";
      } else if (pair[0] == 'uniqueNameErr') {
        document.getElementById('uniqueNameErr').innerHTML = "Username is taken";
      }
    }
  </script>
</body>

</html>
